import{_ as w,k as y,u as V,l as u,c as L,e as a,w as d,r as l,m as x,h as T,b as t,j as b}from"./index-BowADRrS.js";const k={class:"login-page"},B={class:"p-fluid"},C={class:"p-field"},I={class:"p-field"},S={__name:"LoginView",setup(E){const c=x(),r=y(),m=V(),s=u({email:"",password:""}),n=u(!1),p=async()=>{console.log("=== LOGIN START ==="),n.value=!0;try{const o=await m.login(s.value);console.log("Login result:",o),o.success?(r.add({severity:"success",summary:"Success",detail:"Login successful!",life:3e3}),setTimeout(()=>c.push("/posts"),1500)):r.add({severity:"error",summary:"Error",detail:o.message||"Invalid email or password",life:4e3})}catch(o){console.error("Login error:",o),r.add({severity:"error",summary:"Error",detail:"Server error occurred",life:4e3})}finally{n.value=!1}};return(o,e)=>{const f=l("InputText"),g=l("Password"),_=l("Button"),v=l("Card");return T(),L("div",k,[a(v,{class:"login-card"},{title:d(()=>[...e[2]||(e[2]=[b("Login",-1)])]),content:d(()=>[t("div",B,[t("div",C,[e[3]||(e[3]=t("label",{for:"email"},"Email",-1)),a(f,{id:"email",modelValue:s.value.email,"onUpdate:modelValue":e[0]||(e[0]=i=>s.value.email=i)},null,8,["modelValue"])]),t("div",I,[e[4]||(e[4]=t("label",{for:"password"},"Password",-1)),a(g,{id:"password",modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=i=>s.value.password=i),toggleMask:""},null,8,["modelValue"])])])]),footer:d(()=>[a(_,{label:"Login",type:"button",loading:n.value,onClick:p,class:"p-button-primary"},null,8,["loading"])]),_:1})])}}},A=w(S,[["__scopeId","data-v-3f72636c"]]);export{A as default};
