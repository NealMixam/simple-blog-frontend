import{u as C}from"./posts-oW4CRc2g.js";import{_ as k,s as v,a as b,c as i,b as n,d as w,t as l,e as d,r as m,F as y,f as B,u as S,o as V,g,h as a,i as $,w as p,j as _}from"./index-Cra8Asye.js";const A={name:"HomeView",components:{Card:b,Button:v},setup(){const o=C(),t=S(),u="My Blog";V(async()=>{await o.fetchAllPosts()});const s=r=>r.length>150?r.substring(0,150)+"...":r,h=r=>new Date(r).toLocaleDateString();return{appTitle:u,posts:g(()=>o.posts),isAuthenticated:g(()=>t.isAuthenticated),truncateContent:s,formatDate:h}}},D={class:"home"},P={class:"hero-section"},z={key:0,class:"hero-actions"},N={key:1,class:"hero-actions"},x={key:0,class:"recent-posts"},L={class:"posts-grid"},T={class:"post-content"},F={class:"post-date"};function H(o,t,u,s,h,r){const c=m("Button"),f=m("Card");return a(),i("div",D,[n("div",P,[n("h1",null,"Welcome to "+l(s.appTitle),1),t[4]||(t[4]=n("p",{class:"hero-subtitle"},"Share your thoughts and ideas with the world",-1)),s.isAuthenticated?(a(),i("div",N,[d(c,{label:"Create Post",icon:"pi pi-plus",onClick:t[2]||(t[2]=e=>o.$router.push("/posts/create")),size:"large"}),d(c,{label:"View Posts",icon:"pi pi-book",text:"",onClick:t[3]||(t[3]=e=>o.$router.push("/posts")),size:"large"})])):(a(),i("div",z,[d(c,{label:"Get Started",icon:"pi pi-user-plus",onClick:t[0]||(t[0]=e=>o.$router.push("/register")),size:"large"}),d(c,{label:"Login",icon:"pi pi-sign-in",text:"",onClick:t[1]||(t[1]=e=>o.$router.push("/login")),size:"large"})]))]),s.posts.length>0?(a(),i("div",x,[t[5]||(t[5]=n("h2",null,"Recent Posts",-1)),n("div",L,[(a(!0),i(y,null,B(s.posts.slice(0,6),e=>(a(),$(f,{key:e.id,class:"post-card"},{title:p(()=>[_(l(e.title),1)]),subtitle:p(()=>[_("By "+l(e.username),1)]),content:p(()=>[n("p",T,l(s.truncateContent(e.content)),1)]),footer:p(()=>[n("small",F,l(s.formatDate(e.created_at)),1)]),_:2},1024))),128))])])):w("",!0)])}const E=k(A,[["render",H],["__scopeId","data-v-fb0eccdf"]]);export{E as default};
